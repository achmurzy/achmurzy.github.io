<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8>
    <title>Codex</title>
    <style>
      html, body { width: 100%; height: 100%; margin: 0px; }
      path { fill:black; fill-opacity:0.0; stroke: #000; stroke-width: 1px; stroke-opacity: 1;}
    </style>
  </head>
  <body>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="opentype.min.js"></script>
    <script src="victor.min.js"></script>
    <script src="glyph_generator.js"></script>
    <script src="panel_controller.js"></script>
    <script src="primitive_strokes.js"></script>
    <script src="orthographer.js"></script>
    <script src="font_creator.js"></script>
    <script>

    //Formating parameters
    var GLYPH_SCALE = 1000;

    var margin = {top: 40, right: 40, bottom: 40, left: 40},
                      mWidth = 1200, 
                      mHeight = 800;

    var canvas = d3.select("body").append("svg")
              .attr("class", "container")
              .attr("x", margin.left)
              .attr("y", margin.top)
              .attr("width", mWidth)
              .attr("height", mHeight);
      
      //Various state variables for generation panel
      var strokeData = [];  //contains custom stroke data
      var drawGroup = canvas.append("g")
                .attr("x", 0)
                .attr("y", 0);
      var glyphPanel = new Panel("draw", strokeData, drawGroup, "green");

      //Various state variables for font panel
      var alphabet = [];
      var alphabetGroup = canvas.append("g")
                .attr("x", 0)
                .attr("y", 0)
                .attr("transform", "translate("+(glyphPanel.width+100)+","+0+")");
      var alphabetPanel = new Panel("font", alphabet, alphabetGroup, "blue");
      alphabetPanel.toggleGeneration();

      canvas.append("rect")
        .attr("fill", "red")
        .attr("x", 1000)
        .attr("width", 100)
        .attr("height", 100).on("click", function() { buildFont(); });

    </script>
  </body>
</html>
